<div class="row">
  <div class="col-md-12">
    <div class="survey-container" style="max-width: 800px; margin: 0 auto;">
      <!-- Instance section without scrollable content -->
      <div name="context_text" class="instance" style="width: 100%; margin-bottom: 30px;">
        <div id="instance-text" name="instance_text">
          {{instance | safe}}
        </div>
      </div>
      
      <!-- Annotation section -->
      <div class="annotation_schemas" style="width: 100%; display: flex; flex-direction: column; gap: 20px;">
        {{annotation_schematic}}
      </div>
    </div>

    <script>
      // Script to dynamically hide forms based on instance-text content
      document.addEventListener('DOMContentLoaded', function() {
        const instanceText = document.getElementById('instance-text');
        if (instanceText) {
          // Updated selector to match the correct class name
          const forms = document.querySelectorAll('.annotation_schemas form');
          console.log('Forms found:', forms.length);
          
          if (instanceText.textContent.includes('[Question]')) {
            // If instance-text includes [Question], hide the second and third forms
            if (forms.length >= 3) {
              console.log('Hiding forms 2 and 3');
              forms[1].style.display = 'none';
              forms[2].style.display = 'none';
              // Remove the hidden forms
              forms[1].remove();
              forms[2].remove();
            }
          } else {
            // Otherwise, hide the first form
            if (forms.length >= 1) {
              console.log('Hiding form 1');
              forms[0].style.display = 'none';
              // Remove the hidden form
              forms[0].remove();
            }
          }
        }
      });
    </script>

    <div style="height: 20px;"></div>
  </div>
</div>